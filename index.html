<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
        <title>Southern Virginia University Calendar</title>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="css/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"/>
        <link href='css/fullcalendar.css' rel='stylesheet' />
        <link href='css/fullcalendar.print.css' rel='stylesheet' media='print' />
        <link href='css/customfont.css' type = "text/css" rel='stylesheet' media="all"/>
        <link href='css/print.css' rel='stylesheet' media='print' />
        <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
        <script src='js/jquery.min.js'></script>
        <script src='js/moment.min.js'></script>
        <script src='js/fullcalendar.min.js'></script>
        <script src='js/gcal.js'></script>
        <script>
            $(document).ready(function() {
                $('#calendar').fullCalendar({
                    fixedWeekCount: false,
                    height: 'auto',
                    minTime: "06:00:00",
                    googleCalendarApiKey: 'AIzaSyDereJ50sioVk1EKNXt7m-dtNhEYweC_5A',
                    eventSources: [{
                        googleCalendarId: 'usa__en@holiday.calendar.google.com',
                        className: 'holiday-cal'
                    }, {
                        googleCalendarId: 'svu.edu_nf5v7viog32c563doboaljtf4o@group.calendar.google.com',
                        className: 'academics-cal'
                    }, {
                        googleCalendarId: 'svu.edu_cpmvje154c4g2gkvk545i6pmqk@group.calendar.google.com',
                        className: 'activities-cal'
                    }, {
                        googleCalendarId: 'svu.edu_9cv92psfm81gqmcdr8ok95odes@group.calendar.google.com',
                        className: 'arts-cal'
                    }, {
                        googleCalendarId: 'svu.edu_fe3j597hjc9bf2t0fb7nni6sf8@group.calendar.google.com',
                        className: 'athletics-cal'
                    }, {
                        googleCalendarId: 'svu.edu_lg0oft04slbt53v0knekmtn60o@group.calendar.google.com',
                        className: 'religious-cal'
                    }],
                    eventLimit: true, // for all non-agenda views
                    views: {

                        month: {
                            eventLimit: 5
                        },
                         agendaThreeDay: {
                           type: 'agenda',
                         duration: { days: 3 },
                         buttonText: '3 day'
                          }
                    },
                    dayClick: function(date, allDay, jsEvent, view) {

                        if (allDay) {
                            // Clicked on the entire day

                            //if ($(jsEvent.target).is('.fc-day-number')) {
                                // Clicked on the day number

                                $('#calendar').fullCalendar('changeView', 'basicDay'/* or 'basicDay' */);
                                $('#calendar').fullCalendar('gotoDate', date);
                            //}
                            }
                    }
                });
                       $('#academics').click(function(){
                           if (this.checked) {
                               $('#calendar').fullCalendar('addEventSource', {url:"svu.edu_nf5v7viog32c563doboaljtf4o@group.calendar.google.com", color: '#2da26c'});
                           } else {
                                $('#calendar').fullCalendar('removeEventSource', 'svu.edu_nf5v7viog32c563doboaljtf4o@group.calendar.google.com')}
            })
                        $('#activities').click(function(){
                           if (this.checked) {
                               $('#calendar').fullCalendar('addEventSource', {url:"svu.edu_cpmvje154c4g2gkvk545i6pmqk@group.calendar.google.com", color: '#029AE4'});
                           } else {
                                $('#calendar').fullCalendar('removeEventSource', 'svu.edu_cpmvje154c4g2gkvk545i6pmqk@group.calendar.google.com')}
            })
                        $('#arts').click(function(){
                           if (this.checked) {
                               $('#calendar').fullCalendar('addEventSource', {url:"svu.edu_9cv92psfm81gqmcdr8ok95odes@group.calendar.google.com", color: '#7E57C2'});
                           } else {
                                $('#calendar').fullCalendar('removeEventSource', 'svu.edu_9cv92psfm81gqmcdr8ok95odes@group.calendar.google.com')}
            })
                        $('#athletics').click(function(){
                           if (this.checked) {
                               $('#calendar').fullCalendar('addEventSource', {url:"svu.edu_fe3j597hjc9bf2t0fb7nni6sf8@group.calendar.google.com", color: '#EF5350'});
                           } else {
                                $('#calendar').fullCalendar('removeEventSource', 'svu.edu_fe3j597hjc9bf2t0fb7nni6sf8@group.calendar.google.com')}
            })
                        $('#religious').click(function(){
                           if (this.checked) {
                               $('#calendar').fullCalendar('addEventSource', {url:"svu.edu_lg0oft04slbt53v0knekmtn60o@group.calendar.google.com", color: '#FFB74D'});
                           } else {
                                $('#calendar').fullCalendar('removeEventSource', 'svu.edu_lg0oft04slbt53v0knekmtn60o@group.calendar.google.com')}
            })
                        $('#holiday').click(function(){
                           if (this.checked) {
                               $('#calendar').fullCalendar('addEventSource', {url:"usa__en@holiday.calendar.google.com", color: '#607D8B'});
                           } else {
                                $('#calendar').fullCalendar('removeEventSource', 'usa__en@holiday.calendar.google.com')}
            })
                $("#day").click(function() {
                    $('#calendar').fullCalendar('changeView', 'basicDay');
                    $('.button-collapse').sideNav('hide');
                });
                  $("#threeday").click(function() {
                   $('#calendar').fullCalendar('changeView', 'agendaThreeDay');
                   $('.button-collapse').sideNav('hide');
               });
                $("#week").click(function() {
                    $('#calendar').fullCalendar('changeView', 'agendaWeek');
                    $('.button-collapse').sideNav('hide');
                });
                $("#month").click(function() {
                    $('#calendar').fullCalendar('changeView', 'month');
                    $('.button-collapse').sideNav('hide');
                });
                if ($(window).width() < 650) {
                    $('#calendar').fullCalendar('changeView', 'basicDay');
                } else {
                    //do nothing
                }
            });
        </script>
    </head>
    <body>
        <nav>
            <!-- Sidebar Menu -->
            <ul id="slide-out" class="side-nav">
                <li><a href="#!" id="day">Day</a></li>
                <li><a href="#!" id="threeday">Three Day</a></li>
                <li><a href="#!" id="week">Week</a></li>
                <li><a href="#!" id ="month">Month</a></li>
                <li class="divider"></li>
                <div class="calendar-list">
                <li>
                    <label>
                    <input type="checkbox" class="filled-in" id="academics"  checked="checked">
                    <label for="academics">Academics</label>
                    <a title="Subscribe on Google Calendar" href = "http://www.google.com/calendar/render?cid=https://www.google.com/calendar/ical/svu.edu_nf5v7viog32c563doboaljtf4o%40group.calendar.google.com/public/basic.ics" class="subscribe"><i class="icon-google"></i></a>
                    <a title="Subscribe on Apple Calendar" href = "webcal://google.com/calendar/ical/svu.edu_nf5v7viog32c563doboaljtf4o%40group.calendar.google.com/public/basic.ics" class="subscribe"><i class="icon-apple"></i></a>
                    </label>
                </li>
                <li>
                    <label>
                    <input type="checkbox" class="filled-in" id="activities" checked="checked">
                    <label for="activities">Activities</label>
                    <a title="Subscribe on Google Calendar" href = "http://www.google.com/calendar/render?cid=https://www.google.com/calendar/ical/svu.edu_cpmvje154c4g2gkvk545i6pmqk%40group.calendar.google.com/public/basic.ics" class="subscribe"><i class="icon-google"></i></a>
                    <a title="Subscribe on Apple Calendar" href = "webcal://google.com/calendar/ical/svu.edu_cpmvje154c4g2gkvk545i6pmqk%40group.calendar.google.com/public/basic.ics" class="subscribe"><i class="icon-apple"></i></a>
                    </label>
                </li>
                <li>
                    <label>
                    <input type="checkbox" class="filled-in" id="arts" checked="checked">
                    <label for="arts">Arts</label>
                    <a title="Subscribe on Google Calendar" href = "http://www.google.com/calendar/render?cid=https://www.google.com/calendar/ical/svu.edu_9cv92psfm81gqmcdr8ok95odes%40group.calendar.google.com/public/basic.ics" class="subscribe"><i class="icon-google"></i></a>
                    <a title="Subscribe on Apple Calendar" href = "webcal://google.com/calendar/ical/svu.edu_9cv92psfm81gqmcdr8ok95odes%40group.calendar.google.com/public/basic.ics" class="subscribe"><i class="icon-apple"></i></a>
                    </label>
                </li>
                <li>
                    <label>
                    <input type="checkbox" class="filled-in" id="athletics" checked="checked">
                    <label for="athletics">Athletics</label>
                    <a title="Subscribe on Google Calendar" href = "http://www.google.com/calendar/render?cid=https://www.google.com/calendar/ical/svu.edu_fe3j597hjc9bf2t0fb7nni6sf8%40group.calendar.google.com/public/basic.ics" class="subscribe"><i class="icon-google"></i></a>
                    <a title="Subscribe on Apple Calendar" href = "webcal://google.com/calendar/ical/svu.edu_fe3j597hjc9bf2t0fb7nni6sf8%40group.calendar.google.com/public/basic.ics" class="subscribe"><i class="icon-apple"></i></a>
                    </label>
                </li>
                <li>
                    <label>
                    <input type="checkbox" class="filled-in" id="religious" checked="checked">
                    <label for="religious">Religion</label>
                    <a title="Subscribe on Google Calendar" href = "http://www.google.com/calendar/render?cid=https://www.google.com/calendar/ical/svu.edu_lg0oft04slbt53v0knekmtn60o%40group.calendar.google.com/public/basic.ics" class="subscribe"><i class="icon-google"></i></a>
                    <a title="Subscribe on Apple Calendar" href = "webcal://google.com/calendar/ical/svu.edu_lg0oft04slbt53v0knekmtn60o%40group.calendar.google.com/public/basic.ics" class="subscribe"><i class="icon-apple"></i></a>
                    </label>
                </li>
                <li>
                    <label>
                    <input type="checkbox" class="filled-in" id="holiday" checked="checked">
                    <label for="holiday">Holiday</label>
                    </label>
                </li>
                </div>
            </ul>
            <a href="#" data-activates="slide-out" class="button-collapse show-on-large"><i class="mdi-navigation-menu"></i></a>
            <!-- OverFlow Menu -->
            <div class="nav-wrapper">
                <ul class="right hide-on-med-and-down">
                    <li><a class="dropdown-button" href="#!" data-activates="overflow"><i class="material-icons">more_vert</i></a></li>
                </ul>
            </div>
            <ul id="overflow" class="dropdown-content">
                <li><a href="javascript:window.print()">Print</a></li>
                <li><a href="javascript:location.reload(true)">Refresh</a></li>
                <li class="divider"></li>
                <li><a href="http://svu.edu/communications/web-feedback/">Feedback</a></li>
            </ul>
        </nav>
        <div class="section no-pad-bot" id="index-banner">
            <div id='loading'>loading...</div>
            <div id='calendar'></div>
        </div>
        <!--  Scripts-->
        <script src="js/materialize.js"></script>
        <script src="js/init.js"></script>
    </body>
</html>
